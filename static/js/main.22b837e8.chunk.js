(this["webpackJsonpto-do-project"]=this["webpackJsonpto-do-project"]||[]).push([[0],{11:function(e,t,a){e.exports={container:"login_container__2UN6T",title:"login_title__3AiSx",loginsTitle:"login_loginsTitle__ho044",logins:"login_logins__3qJDc",googleLogin:"login_googleLogin__G62bs",githubLogin:"login_githubLogin__12xzS",googleIcon:"login_googleIcon__4uw2u",githubIcon:"login_githubIcon__kY_m-"}},14:function(e,t,a){e.exports={cardAddFormTitle:"cardAddForm_cardAddFormTitle__by9n5",cardAddForm:"cardAddForm_cardAddForm__1SHVX",cardAddInput:"cardAddForm_cardAddInput__1K0nY",changeColor:"cardAddForm_changeColor__FCQAP",cardAddBtn:"cardAddForm_cardAddBtn__1x_DB",addIcon:"cardAddForm_addIcon__2JmhV"}},17:function(e,t,a){e.exports={header:"header_header__Fh_Tt",title:"header_title__2vMI7",logoutDiv:"header_logoutDiv__119uF",logoutBtn:"header_logoutBtn__3IL6f"}},18:function(e,t,a){e.exports={card:"card_card__1ZZ3K",cardInput:"card_cardInput__1VfIh",deleteBtn:"card_deleteBtn__1Wl0I",deleteIcon:"card_deleteIcon__1kkbi"}},25:function(e,t,a){e.exports={footer:"footer_footer__1VqXp"}},31:function(e,t,a){e.exports={container:"App_container__2ffD8"}},33:function(e,t,a){e.exports={list:"viewCards_list__3OHpQ"}},34:function(e,t,a){e.exports={mainContents:"maker_mainContents__3m7tD"}},40:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),o=a(30),r=a.n(o),i=(a(40),a(35)),d=a(5),s=a(31),l=a.n(s),u=a(11),j=a.n(u),h=a(2),b=Object(n.memo)((function(e){var t=e.authService,a=Object(d.f)(),c=function(e){var a=e.currentTarget.textContent,n=t.getProvider(a);t.login(n).then(console.log)},o=Object(n.useCallback)((function(e){a.push({pathname:"/maker",state:{id:e.uid}})}),[a]);return Object(n.useEffect)((function(){t.onAuthChange((function(e){e&&(o(e),console.log(e))}))}),[t,o]),Object(h.jsxs)("section",{className:j.a.container,children:[Object(h.jsx)("div",{className:j.a.title,children:"To-Do List"}),Object(h.jsx)("div",{className:j.a.loginsTitle,children:"Sign in With"}),Object(h.jsxs)("div",{className:j.a.logins,children:[Object(h.jsxs)("button",{className:j.a.googleLogin,onClick:c,children:[Object(h.jsx)("i",{className:"fab fa-google ".concat(j.a.googleIcon)}),"Google"]}),Object(h.jsxs)("button",{className:j.a.githubLogin,onClick:c,children:[Object(h.jsx)("i",{className:"fab fa-github ".concat(j.a.githubIcon)}),"Github"]})]})]})})),f=a(27),_=a(26),g=a(14),O=a.n(g),m=function(e){var t=e.addOrUpdateCard,a=Object(n.useRef)(),c=Object(n.useRef)();return Object(h.jsxs)("div",{className:O.a.container,children:[Object(h.jsx)("h1",{className:O.a.cardAddFormTitle,children:"What Will You Do?"}),Object(h.jsxs)("div",{className:O.a.cardAddForm,children:[Object(h.jsx)("input",{ref:a,className:O.a.cardAddInput,onKeyPress:function(e){"Enter"===e.key&&c.current.click()},type:"text"}),Object(h.jsx)("button",{ref:c,className:O.a.cardAddBtn,onClick:function(){var e={id:Date.now(),todo:a.current.value};t(e),a.current.value=""},children:Object(h.jsx)("i",{className:"fas fa-plus ".concat(O.a.addIcon)})})]})]})},p=a(25),x=a.n(p),v=function(e){return Object(h.jsx)("footer",{className:x.a.footer,children:Object(h.jsx)("div",{className:x.a.copyRight,children:"Copyright 2021. Heo. All rights reserved."})})},C=a(17),A=a.n(C),I=function(e){var t=e.authService;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("header",{className:A.a.header,children:[Object(h.jsx)("div",{className:A.a.title,children:"To-Do-List"}),Object(h.jsx)("div",{className:A.a.logoutDiv,children:Object(h.jsx)("button",{className:A.a.logoutBtn,onClick:function(){t.logout()},children:"Logout"})})]})})},N=a(18),k=a.n(N),S=function(e){var t=e.card,a=e.addOrUpdateCard,c=e.deleteCard,o=Object(n.useRef)();return Object(h.jsxs)("div",{className:k.a.card,children:[Object(h.jsx)("input",{ref:o,className:k.a.cardInput,type:"text",value:t.todo,onChange:function(){var e={id:t.id,todo:o.current.value};a(e)}}),Object(h.jsx)("button",{onClick:function(){c(t)},className:k.a.deleteBtn,children:Object(h.jsx)("i",{className:"far fa-trash-alt ".concat(k.a.deleteIcon)})})]})},F=a(33),w=a.n(F),D=function(e){var t=e.cards,a=e.addOrUpdateCard,n=e.deleteCard;return Object(h.jsx)("ul",{className:w.a.list,children:Object.keys(t).map((function(e){return Object(h.jsx)(S,{card:t[e],addOrUpdateCard:a,deleteCard:n},e)}))})},y=a(34),B=a.n(y),L=function(e){var t=e.authService,a=e.database,c=Object(d.f)(),o=c.location.state.id,r=Object(n.useState)({}),i=Object(_.a)(r,2),s=i[0],l=i[1],u=Object(n.useState)(o),j=Object(_.a)(u,2),b=j[0],g=j[1],O=function(e){l((function(t){var a=Object(f.a)({},t);return a[e.id]=e,a})),a.saveCard(b,e)};return Object(n.useEffect)((function(){t.onAuthChange((function(e){e?e&&g(e.uid):c.push("/")}))})),Object(n.useEffect)((function(){a.loadCards(b,(function(e){return l(e)}))}),[b,a]),Object(h.jsxs)("section",{children:[Object(h.jsx)(I,{authService:t}),Object(h.jsxs)("main",{className:B.a.mainContents,children:[Object(h.jsx)(m,{addOrUpdateCard:O}),Object(h.jsx)(D,{cards:s,addOrUpdateCard:O,deleteCard:function(e){l((function(t){var a=Object(f.a)({},t);return delete a[e.id],a})),a.deleteCards(b,e)}})]}),Object(h.jsx)(v,{})]})},T=function(e){var t=e.authService,a=e.database;return Object(h.jsx)("section",{className:l.a.container,children:Object(h.jsx)(i.a,{basename:"/to-do-list",children:Object(h.jsxs)(d.c,{children:[Object(h.jsx)(d.a,{path:"/",exact:!0,children:Object(h.jsx)(b,{authService:t})}),Object(h.jsx)(d.a,{path:"/maker",children:Object(h.jsx)(L,{authService:t,database:a})})]})})})},G=(a(46),a(19)),P=a(20),U=(a(49),a(51),new P.a.auth.GoogleAuthProvider),E=new P.a.auth.GithubAuthProvider,R=P.a.initializeApp({apiKey:"AIzaSyCGv-verjGrIs8jRdY2vHSYrIy1oFD6vPE",authDomain:"todo-project-9437e.firebaseapp.com",databaseURL:"https://todo-project-9437e-default-rtdb.firebaseio.com",projectId:"todo-project-9437e",storageBucket:"todo-project-9437e.appspot.com",messagingSenderId:"573170172127",appId:"1:573170172127:web:4800ee767ea2048e6b296a"}),W=R.auth(),Y=R.database(),H=function e(){Object(G.a)(this,e),this.saveCard=function(e,t){Y.ref("".concat(e,"/todos/").concat(t.id)).set(t)},this.loadCards=function(e,t){Y.ref("".concat(e,"/todos")).on("value",(function(e){e.val()&&t(e.val())}))},this.deleteCards=function(e,t){Y.ref("".concat(e,"/todos/").concat(t.id)).remove()}},J=new function e(){Object(G.a)(this,e),this.login=function(e){return W.signInWithPopup(e)},this.logout=function(){W.signOut()},this.getProvider=function(e){switch(e){case"Google":return U;case"Github":return E;default:throw new Error("Unknown Provider: ".concat(e))}},this.onAuthChange=function(e){W.onAuthStateChanged((function(t){e(t)}))}},K=new H;r.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(T,{authService:J,database:K})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.22b837e8.chunk.js.map